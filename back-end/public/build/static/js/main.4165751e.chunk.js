(this["webpackJsonpdelivery-app-back-end"]=this["webpackJsonpdelivery-app-back-end"]||[]).push([[0],{134:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r(42),c=r.n(a),s=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,135)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;r(t),n(t),a(t),c(t),s(t)}))},o=(r(82),r(7)),i=r(4),d=r(30),u=r(6),l=r(3),j=r(2),b=r.n(j),p=r(10),h=r(43),m=r(35),O=r(26),x=r.n(O);function f(t){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(b.a.mark((function t(e){var r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"http://localhost:3001/login",t.next=4,x.a.post("http://localhost:3001/login",e);case 4:return r=t.sent,t.next=7,r.data;case 7:return n=t.sent,t.abrupt("return",n);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function _(t){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(b.a.mark((function t(e){var r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"http://localhost:3001/register",t.next=4,x.a.post("http://localhost:3001/register",e);case 4:return r=t.sent,t.next=7,r.data;case 7:return n=t.sent,t.abrupt("return",n);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}var y,w,k,S,C=function(){var t=Object(i.a)(b.a.mark((function t(){var e,r,n,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=JSON.parse(localStorage.getItem("user")),r=e.token,"http://localhost:3001/customer/products",n={headers:{authorization:r}},t.next=6,x.a.get("http://localhost:3001/customer/products",n);case 6:return a=t.sent,t.next=9,a.data;case 9:return c=t.sent,t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(i.a)(b.a.mark((function t(){var e,r,n,a,c,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=JSON.parse(localStorage.getItem("user")),r=e.id,n=e.token,a="http://localhost:3001/customer/order/".concat(r),c={headers:{authorization:n}},t.next=6,x.a.get(a,c);case 6:return s=t.sent,t.next=9,s.data;case 9:return o=t.sent,t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(i.a)(b.a.mark((function t(e){var r,n,a,c,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.parse(localStorage.getItem("user")),n=r.token,a="http://localhost:3001/customer/order/sales/".concat(e),c={headers:{authorization:n}},t.next=6,x.a.get(a,c);case 6:return s=t.sent,t.next=9,s.data;case 9:return o=t.sent,t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(i.a)(b.a.mark((function t(){var e,r,n,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=JSON.parse(localStorage.getItem("user")),r=e.token,"http://localhost:3001/register",n={headers:{authorization:r}},t.next=6,x.a.get("http://localhost:3001/register",n);case 6:return a=t.sent,t.next=9,a.data;case 9:return c=t.sent,t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=Object(i.a)(b.a.mark((function t(e){var r,n,a,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.parse(localStorage.getItem("user")),n=r.token,"http://localhost:3001/customer/order",a={headers:{authorization:n}},t.next=6,x.a.post("http://localhost:3001/customer/order",e,a);case 6:return c=t.sent,t.next=9,c.data;case 9:return s=t.sent,t.abrupt("return",s);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(i.a)(b.a.mark((function t(e){var r,n,a,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.parse(localStorage.getItem("user")),n=r.token,"http://localhost:3001/adminRegister",a={headers:{authorization:n}},t.next=6,x.a.post("http://localhost:3001/adminRegister",e,a);case 6:return c=t.sent,t.next=9,c.data;case 9:return s=t.sent,t.abrupt("return",s);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(i.a)(b.a.mark((function t(){var e,r,n,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=JSON.parse(localStorage.getItem("user")),r=e.token,"http://localhost:3001/adminRegister",n={headers:{authorization:r}},t.next=6,x.a.get("http://localhost:3001/adminRegister",n);case 6:return a=t.sent,t.next=9,a.data;case 9:return c=t.sent,t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(i.a)(b.a.mark((function t(e){var r,n,a,c,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.parse(localStorage.getItem("user")),n=r.token,a="http://localhost:3001/adminRegister/".concat(e),c={headers:{authorization:n}},t.next=6,x.a.post(a,c);case 6:return s=t.sent,t.next=9,s.data;case 9:return o=t.sent,t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),J=r(24),F=r(25),z=F.a.div(y||(y=Object(J.a)(["\nborder: 1px solid black;\nbox-shadow: 0 0 1em #00000099;\nwidth: 400px;\nheight: 400px;\nposition: absolute;\ntop: 25%;\nleft: 0; right: 0;\nmargin: auto;\ndisplay: flex;\nflex-direction: column;\njustify-content: space-evenly;\nalign-items: center;\n   p {\n     color: red;\n   }\n"]))),D=F.a.input(w||(w=Object(J.a)(["\n  display:flex;\n  flex-direction: column;\n  width: 95%;\n  height: 50px;\n  padding: 3px;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  font-size: 20px;\n"]))),T=F.a.button(k||(k=Object(J.a)(["\nborder-style: none;\nwidth: 50%;\nheight: 50px;\nborder-radius: 10px;\nfont-size: 30px;\ncolor: white;\nbackground-color: #00ffbf;\n:hover {\n  background-color: white;\n  color: #00ffbf;\n  border: 2px solid #00ffbf;\n}\n"]))),U=F.a.button(S||(S=Object(J.a)(["\nborder-style: none;\nborder: 2px solid #00ffbf;\nwidth: 100%;\nheight: 50px;\nborder-radius: 10px;\nfont-size: 30px;\ncolor: white;\nbackground-color: #00ffbf;\n:hover {\n  background-color: white;\n  color: #00ffbf;\n  border: 2px solid #00ffbf;\n}\n"]))),B=r(0);function A(){var t=Object(n.useState)(!0),e=Object(l.a)(t,2),r=e[0],a=e[1],c=Object(n.useState)(),s=Object(l.a)(c,2),o=s[0],j=s[1],O=Object(n.useState)({email:"",password:""}),x=Object(l.a)(O,2),v=x[0],_=x[1];Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));void 0!==t&&j(t)}),[]);var g=function(t){var e=t.target,r=e.name,n=e.value;_(Object(u.a)(Object(u.a)({},v),{},Object(d.a)({},r,n)))};var y,w=function(){var t=Object(i.a)(b.a.mark((function t(){var e,r,n,c,s,o,i,d;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(v);case 2:(e=t.sent).error?a(!1):(r=e.token,n=e.user,c=n.id,s=n.name,o=n.email,i=n.role,d={id:c,name:s,email:o,role:i,token:r},localStorage.setItem("user",JSON.stringify(d)),j(d));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(z,{children:[o&&Object(B.jsx)(h.Redirect,{to:(y=o.role,"administrator"===y?"/admin/manage":"seller"===y?"/seller/orders":"/customer/products")}),Object(B.jsx)("p",{hidden:r,"data-testid":"common_login__element-invalid-email",children:"invalid credential"}),Object(B.jsxs)("div",{children:[Object(B.jsx)(D,{name:"email",type:"text",onChange:g,placeholder:"Insira seu e-mail","data-testid":"common_login__input-email"}),Object(B.jsx)(D,{name:"password",type:"password",onChange:g,placeholder:"Insira sua senha","data-testid":"common_login__input-password"})]}),Object(B.jsx)(T,{type:"submit",disabled:!!Object(m.loginValidation)(v).error,onClick:function(){return w()},"data-testid":"common_login__button-login",children:"login"}),Object(B.jsx)(p.a,{to:"/register",children:Object(B.jsx)(U,{type:"submit","data-testid":"common_login__button-register",children:"Ainda n\xe3o tenho conta"})})]})}var V,Q,M,$,G,H=r(20),K=F.a.div(V||(V=Object(J.a)(["\n  color: white;\n  top: 0 !important;\n  position: relative !important;\n  width: 100%;\n  height: 100%;\n    a {\n      color: white;\n      text-decoration: none;\n    }\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: stretch;\n"]))),W=F.a.div(Q||(Q=Object(J.a)(["\n  background-color: #2fc18c;\n  width: 20%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: stretch;\n"]))),X=F.a.div(M||(M=Object(J.a)(["\n  background-color: #036b52;\n  width: 50%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: stretch;\n"]))),Y=F.a.div($||($=Object(J.a)(["\n  background-color: #421891;\n  width: 20%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: stretch;\n"]))),Z=F.a.div(G||(G=Object(J.a)(["\n  width: 10%;\n  background-color: #056cf9;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: stretch;\n"])));function tt(){var t=Object(n.useState)(!1),e=Object(l.a)(t,2),r=e[0],a=e[1],c=Object(n.useState)(),s=Object(l.a)(c,2),i=s[0],d=s[1],u=Object(o.useHistory)().location.pathname;Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user")).name;d(t)}),[]);var j=Object(B.jsx)(X,{children:Object(B.jsx)("div",{"data-testid":"customer_products__element-navbar-link-orders",children:Object(B.jsx)("h3",{children:"Gerenciar Usu\xe1rios"})})}),b=Object(B.jsx)(X,{children:Object(B.jsx)(p.a,{to:"/seller/orders","data-testid":"customer_products__element-navbar-link-orders",children:Object(B.jsx)("h3",{children:"Pedidos"})})}),h=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(W,{children:Object(B.jsx)(p.a,{to:"/customer/products","data-testid":"customer_products__element-navbar-link-products",children:Object(B.jsx)("h3",{children:"Produtos"})})}),Object(B.jsx)(X,{children:Object(B.jsx)(p.a,{to:"/customer/orders","data-testid":"customer_products__element-navbar-link-orders",children:Object(B.jsx)("h3",{children:"Meus Pedidos"})})})]});return Object(B.jsxs)(K,{children:[r?Object(B.jsx)(o.Redirect,{to:"/login"}):null,u.includes("customer")?h:u.includes("seller")?b:u.includes("admin")?j:void 0,Object(B.jsx)(Y,{children:Object(B.jsx)("h3",{"data-testid":"customer_products__element-navbar-user-full-name",children:i})}),Object(B.jsx)(Z,{children:Object(B.jsx)("button",{type:"button",onClick:function(){return localStorage.clear(),void a(!0)},"data-testid":"customer_products__element-navbar-link-logout",children:"sair"})})]})}var et=r(77),rt=r(46),nt=Object(rt.b)({name:"productCart",initialState:{subtotalCartList:[],totalPrice:0},reducers:{createSubtotalList:function(t,e){t.subtotalCartList=[].concat(Object(et.a)(t.subtotalCartList),[e.payload])},changeSubtotalList:function(t,e){var r=t.subtotalCartList.findIndex((function(t){return t.id===e.payload.id}));t.subtotalCartList.splice(r,1,e.payload)},updateTotalPrice:function(t){t.totalPrice=t.subtotalCartList.reduce((function(t,e){return t+e.subtotal}),0)}}}),at=nt.actions,ct=at.createSubtotalList,st=at.changeSubtotalList,ot=at.updateTotalPrice,it=nt.reducer;function dt(t){var e=Object(H.b)(),r=Object(H.c)((function(t){return t.productCartReducer.subtotalCartList})),a=Object(n.useState)(0),c=Object(l.a)(a,2),s=c[0],o=c[1],i=t.product,d=i.id,u=i.name,j=i.price,b=i.url_image;Object(n.useEffect)((function(){var t=s*j;r.length<Number("11")?e(ct({subtotal:t,id:d,name:u,price:j,quantity:s})):(e(st({subtotal:t,id:d,name:u,price:j,quantity:s})),e(ot()))}),[s]);return Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:"R$"}),Object(B.jsx)("p",{"data-testid":"customer_products__element-card-price-".concat(d),children:j.replace(".",",")})]}),Object(B.jsx)("img",{src:"".concat(b),alt:"imagem da bebida","data-testid":"customer_products__img-card-bg-image-".concat(d)}),Object(B.jsx)("div",{children:Object(B.jsx)("p",{"data-testid":"customer_products__element-card-title-".concat(d),children:u})}),Object(B.jsx)("button",{type:"button",onClick:function(){return s>0?o(s-1):null},"data-testid":"customer_products__button-card-rm-item-".concat(d),children:"-"}),Object(B.jsx)("input",{type:"number",value:s,pattern:"[0-9]*",onChange:function(t){return function(t){var e=t.value;o(Number(e))}(t.target)},"data-testid":"customer_products__input-card-quantity-".concat(d)}),Object(B.jsx)("button",{type:"button",onClick:function(){o(s+1)},"data-testid":"customer_products__button-card-add-item-".concat(d),children:"+"})]})}function ut(){var t=Object(n.useState)([]),e=Object(l.a)(t,2),r=e[0],a=e[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:e=t.sent,a(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(B.jsx)("div",{children:r.map((function(t,e){return Object(B.jsx)(dt,{product:t,"data-testid":t.id},e)}))})}function lt(){var t=Object(H.c)((function(t){return t.productCartReducer.totalPrice})).toFixed(2).toString().replace(".",",");return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(tt,{}),Object(B.jsx)(ut,{}),Object(B.jsx)("h2",{children:"ver carrinho: R$"}),Object(B.jsx)(p.a,{to:"/customer/checkout","data-testid":"customer_products__checkout-bottom-value",children:Object(B.jsx)("button",{type:"button",disabled:"0,00"===t,onClick:function(){return localStorage.setItem("total",JSON.stringify(t))},"data-testid":"customer_products__button-cart",children:t})})]})}function jt(t){var e=t.product,r=e.id,n=e.name,a=e.quantity,c=e.price,s=e.subtotal,o=t.index,i=Object(H.b)();return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{"data-testid":"customer_checkout__element-order-table-item-number-".concat(o),children:o+1}),Object(B.jsx)("td",{"data-testid":"customer_checkout__element-order-table-name-".concat(o),children:n}),Object(B.jsx)("td",{"data-testid":"customer_checkout__element-order-table-quantity-".concat(o),children:a}),Object(B.jsx)("td",{"data-testid":"customer_checkout__element-order-table-unit-price-".concat(o),children:c.replace(".",",")}),Object(B.jsx)("td",{"data-testid":"customer_checkout__element-order-table-sub-total-".concat(o),children:s.toFixed(2).replace(".",",")}),Object(B.jsx)("td",{children:Object(B.jsx)("button",{type:"button",onClick:function(){return i(st({subtotal:0,id:r,name:n,price:c,quantity:0})),void i(ot())},"data-testid":"customer_checkout__element-order-table-remove-".concat(o),children:"Remover"})})]})}function bt(t){var e=t.productsSold;return Object(B.jsxs)("table",{children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Item"}),Object(B.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(B.jsx)("th",{children:"Quantidade"}),Object(B.jsx)("th",{children:"valor Unitar\xedo"}),Object(B.jsx)("th",{children:"Sub-total"}),Object(B.jsx)("th",{children:"Removeritem"})]})}),Object(B.jsx)("tbody",{children:e.map((function(t,e){return Object(B.jsx)(jt,{product:t,index:e},e)}))})]})}function pt(){var t=Object(H.c)((function(t){return t.productCartReducer.subtotalCartList})).filter((function(t){return t.subtotal>0})),e=Object(H.c)((function(t){return t.productCartReducer.totalPrice})),r=Object(n.useState)(!1),a=Object(l.a)(r,2),c=a[0],s=a[1],d=Object(n.useState)(""),j=Object(l.a)(d,2),p=j[0],h=j[1],m=Object(n.useState)([]),O=Object(l.a)(m,2),x=O[0],f=O[1],v=Object(n.useState)({sellerId:2,totalPrice:e,deliveryAddress:"",deliveryNumber:"",status:"Pendente",productsSold:t.map((function(t){return{productId:t.id,quantity:t.quantity}}))}),_=Object(l.a)(v,2),g=_[0],y=_[1];Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:(e=t.sent).error?console.log(e.error):f(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var w=function(t){var e=t.name,r=t.value;"select-seller"===e&&y(Object(u.a)(Object(u.a)({},g),{},{sellerId:r})),"customer-address"===e&&y(Object(u.a)(Object(u.a)({},g),{},{deliveryAddress:r})),"customer-address-number"===e&&y(Object(u.a)(Object(u.a)({},g),{},{deliveryNumber:r}))},k=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(g);case 2:e=t.sent,h(e.id),s(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[c?Object(B.jsx)(o.Redirect,{to:"/customer/orders/".concat(p)}):null,Object(B.jsx)(tt,{}),Object(B.jsx)("h2",{children:"Finalizar pedido"}),Object(B.jsx)(bt,{productsSold:t}),"Total:",Object(B.jsx)("div",{"data-testid":"customer_checkout__element-order-total-price",children:e.toFixed(2).toString().replace(".",",")}),Object(B.jsx)("h2",{children:"Detalhes e Endere\xe7o para Entrega"}),Object(B.jsx)("select",{name:"select-seller",onChange:function(t){return w(t.target)},"data-testid":"customer_checkout__select-seller",children:x.map((function(t,e){var r=t.id,n=t.name;return Object(B.jsx)("option",{value:r,children:n},e)}))}),Object(B.jsx)("input",{name:"customer-address",type:"text",value:g.deliveryAddress,onChange:function(t){return w(t.target)},"data-testid":"customer_checkout__input-address"}),Object(B.jsx)("input",{name:"customer-address-number",type:"number",pattern:"[0-9]*",value:g.deliveryNumber,onChange:function(t){return w(t.target)},"data-testid":"customer_checkout__input-addressNumber"}),Object(B.jsx)("button",{type:"button",onClick:function(){return k()},"data-testid":"customer_checkout__button-submit-order",children:"finalizar pedido"})]})}function ht(){var t=Object(n.useState)(!0),e=Object(l.a)(t,2),r=e[0],a=e[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),j=s[0],p=s[1],h=Object(n.useState)({name:"",email:"",password:"",role:"customer"}),O=Object(l.a)(h,2),x=O[0],f=O[1],v=function(t){var e=t.target,r=e.name,n=e.value;f(Object(u.a)(Object(u.a)({},x),{},Object(d.a)({},r,n)))};var g=function(){var t=Object(i.a)(b.a.mark((function t(){var e,r,n,c,s,o,i,d;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(x);case 2:(e=t.sent).error?a(!1):(r=e.token,n=e.user,c=n.id,s=n.name,o=n.email,i=n.role,d={id:c,name:s,email:o,role:i,token:r},localStorage.setItem("user",JSON.stringify(d)),p(!0));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(z,{children:[j?Object(B.jsx)(o.Redirect,{to:"/customer/products"}):null,Object(B.jsx)("p",{hidden:r,"data-testid":"common_register__element-invalid_register",children:"invalid credential"}),Object(B.jsx)(D,{name:"name",type:"name",value:x.name,onChange:v,placeholder:"Insira um nome","data-testid":"common_register__input-name"}),Object(B.jsx)(D,{name:"email",type:"text",value:x.email,onChange:v,placeholder:"Insira um e-email","data-testid":"common_register__input-email"}),Object(B.jsx)(D,{name:"password",type:"password",value:x.password,onChange:v,placeholder:"Insira uma senha","data-testid":"common_register__input-password"}),Object(B.jsx)(T,{type:"submit",disabled:!!Object(m.registerValidation)(x).error,onClick:function(){return g()},"data-testid":"common_register__button-register",children:"register now"})]})}var mt=r(76),Ot=Object(mt.a)("http://localhost:3001");function xt(){var t=Object(n.useState)([]),e=Object(l.a)(t,2),r=e[0],a=e[1];Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:(e=t.sent).error?console.log(e.error):a(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=r.length>0;return Object(n.useEffect)((function(){Ot.on("updatedOrders",(function(t){a(t)}))}),[c]),Object(B.jsxs)("div",{children:[Object(B.jsx)(tt,{}),r.map((function(t,e){return Object(B.jsx)(p.a,{to:"/customer/orders/".concat(t.id),children:Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{"data-testid":"customer_orders__element-order-id-".concat(t.id),children:t.id}),Object(B.jsx)("p",{"data-testid":"customer_orders__element-delivery-status-".concat(t.id),children:t.status}),Object(B.jsx)("p",{"data-testid":"customer_orders__element-order-date-".concat(t.id),children:t.saleDate}),Object(B.jsx)("p",{"data-testid":"customer_orders__element-card-price-".concat(t.id),children:t.totalPrice.replace(".",",")})]},e)},e)}))]})}function ft(t){var e=t.product,r=t.index,n=t.datId,a=e.name,c=e.salesProducts.quantity,s=e.price;return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-item-number-").concat(r),children:r+1}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-name-").concat(r),children:a}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-quantity-").concat(r),children:c}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-unit-price-").concat(r),children:s.replace(".",",")}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-sub-total-").concat(r),children:(Number(s)*c).toFixed(2)})]},r)}function vt(t){var e=t.products,r=t.datId;return Object(B.jsxs)("table",{children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Item"}),Object(B.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(B.jsx)("th",{children:"Quantidade"}),Object(B.jsx)("th",{children:"valor Unitar\xedo"}),Object(B.jsx)("th",{children:"Sub-total"})]})}),Object(B.jsx)("tbody",{children:e.map((function(t,e){return Object(B.jsx)(ft,{product:t,index:e,datId:r},e)}))})]})}function _t(){var t=Object(n.useState)([]),e=Object(l.a)(t,2),r=e[0],a=e[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),d=s[0],j=s[1],p=Object(n.useState)([]),h=Object(l.a)(p,2),m=h[0],O=h[1],x=Object(o.useParams)();Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(x.id);case 2:(e=t.sent).error?console.log(e.error):(a(e),j(e.seller.name),O(e.products));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(n.useEffect)((function(){Ot.on("updatedStatus",(function(t){var e=t.status;a(Object(u.a)(Object(u.a)({},r),{},{status:e}))}))}),[r]);var f="customer_order_details__element-order";return Object(B.jsxs)("div",{children:[Object(B.jsx)(tt,{}),Object(B.jsx)("h2",{children:"Detalhe do pedido"}),Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{"data-testid":"".concat(f,"-details-label-order-id"),children:r.id}),Object(B.jsx)("p",{"data-testid":"".concat(f,"-details-label-seller-name"),children:d}),Object(B.jsx)("p",{"data-testid":"".concat(f,"-details-label-order-date"),children:r.saleDate}),Object(B.jsx)("p",{"data-testid":"".concat(f,"-details-label-delivery-status"),children:r.status}),Object(B.jsx)("button",{type:"button",value:"Entregue",disabled:"Em Tr\xe2nsito"!==r.status,onClick:function(t){return function(t){var e=t.target.value,n=JSON.parse(localStorage.getItem("user")).id;Ot.emit("changeStatus",{userId:n,orderId:r.id,status:e})}(t)},"data-testid":"customer_order_details__button-delivery-check",children:"Marcar como entregue"})]}),Object(B.jsx)(vt,{products:m,datId:f}),Object(B.jsx)("p",{"data-testid":"customer_order_details__element-order-total-price",children:"Total: ".concat(Number(r.totalPrice).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))})]})}function gt(t){var e=t.user,r=t.deleteUser,n=t.index,a=e.id,c=e.name,s=e.email,o=e.role,i="admin_manage__element-user-table";return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{"data-testid":"".concat(i,"-item-number-").concat(n),children:n+1}),Object(B.jsx)("td",{"data-testid":"".concat(i,"-name-").concat(n),children:c}),Object(B.jsx)("td",{"data-testid":"".concat(i,"-email-").concat(n),children:s}),Object(B.jsx)("td",{"data-testid":"".concat(i,"-role-").concat(n),children:o}),Object(B.jsx)("td",{children:Object(B.jsx)("button",{type:"button",onClick:function(){return r(a)},"data-testid":"".concat(i,"-remove-").concat(n),children:"Excluir"})})]},n)}function yt(t){var e=t.users,r=t.deleteUser;return Object(B.jsxs)("table",{children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Item"}),Object(B.jsx)("th",{children:"Nome"}),Object(B.jsx)("th",{children:"E-mail"}),Object(B.jsx)("th",{children:"Tipo"}),Object(B.jsx)("th",{children:"Excluir"})]})}),Object(B.jsx)("tbody",{children:e.map((function(t,e){return Object(B.jsx)(gt,{user:t,deleteUser:r,index:e},e)}))})]})}function wt(){var t=Object(n.useState)(!0),e=Object(l.a)(t,2),r=e[0],a=e[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),o=s[0],j=s[1],p=Object(n.useState)({name:"",email:"",password:"",role:"customer"}),h=Object(l.a)(p,2),O=h[0],x=h[1],f=function(t){var e=t.target,r=e.name,n=e.value;x(Object(u.a)(Object(u.a)({},O),{},Object(d.a)({},r,n)))},v=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:(e=t.sent).error?console.log(e.error):j(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);var _=function(){var t=Object(i.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(O);case 2:t.sent.error?a(!1):(v(),x({name:"",email:"",password:"",role:"customer"}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:return t.next=4,v();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{children:[Object(B.jsx)(tt,{}),Object(B.jsx)("p",{"data-testid":"admin_manage__element-invalid-register",hidden:r,children:"Person already registered"}),Object(B.jsx)("input",{name:"name",type:"text",value:O.name,onChange:f,placeholder:"Nome e sobrenome","data-testid":"admin_manage__input-name"}),Object(B.jsx)("input",{name:"email",type:"text",value:O.email,onChange:f,placeholder:"E-mail","data-testid":"admin_manage__input-email"}),Object(B.jsx)("input",{name:"password",type:"password",value:O.password,onChange:f,placeholder:"Insira sua senha","data-testid":"admin_manage__input-password"}),Object(B.jsxs)("select",{name:"role",value:O.role,onChange:f,"data-testid":"admin_manage__select-role",children:[Object(B.jsx)("option",{value:"customer",children:"Cliente"}),Object(B.jsx)("option",{value:"seller",children:"Vendedor"}),Object(B.jsx)("option",{value:"administrator",children:"Admin"})]}),Object(B.jsx)("button",{type:"button",disabled:!!Object(m.registerValidation)(O).error,onClick:function(){return _()},"data-testid":"admin_manage__button-register",children:"Cadastrar"})]}),Object(B.jsx)(yt,{users:o,deleteUser:g})]})}function kt(){var t=Object(n.useState)([]),e=Object(l.a)(t,2),r=e[0],a=e[1];Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:(e=t.sent).error?console.log(e.error):a(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var c=r.length>0;return Object(n.useEffect)((function(){Ot.on("updatedOrders",(function(t){a(t)}))}),[c]),Object(B.jsxs)("div",{children:[Object(B.jsx)(tt,{}),r.map((function(t,e){return Object(B.jsxs)(p.a,{to:"/seller/orders/".concat(t.id),children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{"data-testid":"seller_orders__element-order-id-".concat(t.id),children:t.id}),Object(B.jsx)("p",{"data-testid":"seller_orders__element-delivery-status-".concat(t.id),children:t.status}),Object(B.jsx)("p",{"data-testid":"seller_orders__element-order-date-".concat(t.id),children:t.saleDate}),Object(B.jsx)("p",{"data-testid":"seller_orders__element-card-price-".concat(t.id),children:t.totalPrice.replace(".",",")})]},e),Object(B.jsx)("p",{"data-testid":"seller_orders__element-card-address-".concat(t.id),children:"".concat(t.deliveryAddress,", ").concat(t.deliveryNumber)})]},e)}))]})}function St(t){var e=t.product,r=t.index,n=t.datId,a=e.name,c=e.salesProducts.quantity,s=e.price;return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-item-number-").concat(r),children:r+1}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-name-").concat(r),children:a}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-quantity-").concat(r),children:c}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-unit-price-").concat(r),children:s.replace(".",",")}),Object(B.jsx)("td",{"data-testid":"".concat(n,"-table-sub-total-").concat(r),children:(Number(s)*c).toFixed(2)})]},r)}function Ct(t){var e=t.products,r=t.datId;return Object(B.jsxs)("table",{children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Item"}),Object(B.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(B.jsx)("th",{children:"Quantidade"}),Object(B.jsx)("th",{children:"valor Unitar\xedo"}),Object(B.jsx)("th",{children:"Sub-total"})]})}),Object(B.jsx)("tbody",{children:e.map((function(t,e){return Object(B.jsx)(St,{product:t,index:e,datId:r},e)}))})]})}function It(){var t=Object(n.useState)([]),e=Object(l.a)(t,2),r=e[0],a=e[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),d=s[0],j=s[1],p=Object(o.useParams)();Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(p.id);case 2:(e=t.sent).error?console.log(e.error):(a(e),j(e.products));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(n.useEffect)((function(){Ot.on("updatedStatus",(function(t){var e=t.status;a(Object(u.a)(Object(u.a)({},r),{},{status:e}))}))}),[r]);var h=function(t){var e=t.target.value,n=JSON.parse(localStorage.getItem("user")).id;Ot.emit("changeStatus",{userId:n,orderId:r.id,status:e})},m="seller_order_details__element-order";return Object(B.jsxs)("div",{children:[Object(B.jsx)(tt,{}),Object(B.jsx)("h2",{children:"Detalhe do pedido"}),Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{"data-testid":"".concat(m,"-details-label-order-id"),children:r.id}),Object(B.jsx)("p",{"data-testid":"".concat(m,"-details-label-order-date"),children:r.saleDate}),Object(B.jsx)("p",{"data-testid":"".concat(m,"-details-label-delivery-status"),children:r.status}),Object(B.jsx)("button",{type:"button",value:"Preparando",disabled:"Pendente"!==r.status,onClick:function(t){return h(t)},"data-testid":"seller_order_details__button-preparing-check",children:"Preparar pedido"}),Object(B.jsx)("button",{type:"button",value:"Em Tr\xe2nsito",disabled:"Preparando"!==r.status,onClick:function(t){return h(t)},"data-testid":"seller_order_details__button-dispatch-check",children:"Saiu para entrega"})]}),Object(B.jsx)(Ct,{products:d,datId:m}),Object(B.jsx)("p",{"data-testid":"".concat(m,"-total-price"),children:"Total: ".concat(Number(r.totalPrice).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))})]})}function Rt(){return Object(B.jsxs)(o.Switch,{children:[Object(B.jsx)(o.Route,{exact:!0,path:"/",children:Object(B.jsx)(o.Redirect,{to:"/login",component:A})}),Object(B.jsx)(o.Route,{exact:!0,path:"/login",component:A}),Object(B.jsx)(o.Route,{exact:!0,path:"/register",component:ht}),Object(B.jsx)(o.Route,{exact:!0,path:"/customer/orders",component:xt}),Object(B.jsx)(o.Route,{exact:!0,path:"/customer/orders/:id",component:_t}),Object(B.jsx)(o.Route,{exact:!0,path:"/customer/products",component:lt}),Object(B.jsx)(o.Route,{exact:!0,path:"/seller/orders",component:kt}),Object(B.jsx)(o.Route,{exact:!0,path:"/seller/orders/:id",component:It}),Object(B.jsx)(o.Route,{exact:!0,path:"/admin/manage",component:wt}),Object(B.jsx)(o.Route,{exact:!0,path:"/customer/checkout",component:pt})]})}var Nt=function(){return Object(B.jsx)("div",{children:Object(B.jsx)(Rt,{})})},Pt=Object(rt.a)({reducer:{productCartReducer:it}});c.a.render(Object(B.jsx)(H.a,{store:Pt,children:Object(B.jsx)(h.BrowserRouter,{children:Object(B.jsx)(Nt,{})})}),document.getElementById("root")),s()},35:function(t,e,r){var n=r(84),a=n.object({email:n.string().email({tlds:{allow:!1}}).required(),password:n.string().min(6).required()}),c=n.object({name:n.string().min(12).required(),email:n.string().email({tlds:{allow:!1}}).required(),password:n.string().min(6).required(),role:n.string()});t.exports={loginValidation:function(t){return a.validate(t)},registerValidation:function(t){return c.validate(t)}}},82:function(t,e,r){}},[[134,1,2]]]);
//# sourceMappingURL=main.4165751e.chunk.js.map